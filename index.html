<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Startup Lifecycle - Interactive Simulation</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- D3.js for timeline -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  
  <!-- p5.js for visuals -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #e0e0e0;
      min-height: 100vh;
    }
    
    .glass-panel {
      background: rgba(30, 30, 50, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 1.5rem;
    }
    
    .action-btn {
      transition: all 0.2s ease;
    }
    
    .action-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
    }
    
    .action-btn:active:not(:disabled) {
      transform: translateY(0);
    }
    
    #p5-canvas {
      border-radius: 12px;
    }
    
    .message-display {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      font-weight: 500;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      transition: all 0.3s ease;
    }
    
    .message-display.info {
      background: rgba(59, 130, 246, 0.9);
      color: white;
    }
    
    .message-display.success {
      background: rgba(34, 197, 94, 0.9);
      color: white;
    }
    
    .message-display.error {
      background: rgba(239, 68, 68, 0.9);
      color: white;
    }
    
    .message-display.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    #timeline-svg {
      background: rgba(20, 20, 30, 0.5);
      border-radius: 8px;
    }
    
    .kbd {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 4px;
      padding: 0.15rem 0.4rem;
      font-family: monospace;
      font-size: 0.85em;
    }
    
    @media (prefers-reduced-motion: reduce) {
      * {
        animation: none !important;
        transition: none !important;
      }
    }
  </style>
</head>
<body class="p-4 md:p-8">
  
  <!-- Message Display -->
  <div id="message-display" class="message-display hidden"></div>
  
  <!-- Error Message -->
  <div id="error-message" class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-red-500 text-white p-6 rounded-lg shadow-xl z-50"></div>
  
  <!-- Header -->
  <header class="text-center mb-8">
    <h1 class="text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
      üöÄ The Startup Lifecycle
    </h1>
    <p class="text-gray-400 text-lg">An interactive visual simulation of a startup's journey</p>
  </header>
  
  <!-- Intro Section -->
  <section id="intro-section" class="max-w-2xl mx-auto glass-panel mb-8">
    <h2 class="text-2xl font-bold mb-4">Welcome, Founder!</h2>
    <p class="mb-4 text-gray-300">
      Experience the chaotic, beautiful journey of building a startup. Each decision affects your probabilities 
      of success, failure, and everything in between. Will you reach an Exit, or face Death and Rebirth?
    </p>
    
    <div class="space-y-4 mt-6">
      <div>
        <label class="block text-sm font-medium mb-2">Startup Name</label>
        <input 
          type="text" 
          id="startup-name" 
          placeholder="My Amazing Startup" 
          class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"
        />
      </div>
      
      <div>
        <label class="block text-sm font-medium mb-2">Startup Type</label>
        <select 
          id="seed-type" 
          class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"
        >
          <option value="tech">Tech Startup (High hype, high chaos)</option>
          <option value="consumer">Consumer Startup (Very high hype, risky)</option>
          <option value="biotech">Biotech Startup (Strong funding, slow growth)</option>
        </select>
      </div>
      
      <button 
        id="start-btn" 
        class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg action-btn"
      >
        üéØ Spin a Startup
      </button>
    </div>
  </section>
  
  <!-- Main Controls Section -->
  <section id="controls-section" class="hidden">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl mx-auto">
      
      <!-- Left Panel: Visual -->
      <div class="lg:col-span-2 space-y-6">
        <!-- Visual Container -->
        <div class="glass-panel">
          <div id="visual-container" class="flex items-center justify-center bg-gray-900 rounded-lg overflow-hidden">
            <!-- p5.js canvas will be inserted here -->
          </div>
        </div>
        
        <!-- Timeline -->
        <div class="glass-panel">
          <h3 class="text-xl font-bold mb-3">Timeline</h3>
          <div id="timeline-container" class="w-full h-24">
            <!-- D3.js timeline will be rendered here -->
          </div>
        </div>
        
        <!-- Playback Controls -->
        <div class="glass-panel">
          <div class="flex flex-wrap gap-3">
            <button id="play-btn" class="flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg action-btn">
              ‚ñ∂ Play
            </button>
            <button id="step-btn" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg action-btn">
              ‚è≠ Step
            </button>
            <button onclick="shareSnapshot()" class="flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg action-btn">
              üì§ Share
            </button>
          </div>
          
          <div class="mt-4">
            <label class="block text-sm font-medium mb-2">Simulation Speed</label>
            <div class="flex items-center gap-3">
              <input 
                type="range" 
                id="speed-slider" 
                min="1" 
                max="100" 
                value="50" 
                class="flex-1"
              />
              <span id="speed-value" class="text-sm font-mono">50%</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Right Panel: Controls & Info -->
      <div class="space-y-6">
        <!-- Current State Info -->
        <div class="glass-panel">
          <h3 class="text-xl font-bold mb-3">Current State</h3>
          <div class="space-y-2">
            <div class="flex justify-between">
              <span class="text-gray-400">Startup:</span>
              <span id="startup-name-display" class="font-semibold">-</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-400">Stage:</span>
              <span id="current-state-display" class="font-bold text-lg">Idea</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-400">Tick:</span>
              <span id="tick-display" class="font-mono">0</span>
            </div>
          </div>
        </div>
        
        <!-- Modifiers -->
        <div class="glass-panel">
          <h3 class="text-xl font-bold mb-3">Modifiers</h3>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-400">Team Size:</span>
              <span id="hire-count" class="font-mono">0</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-400">Burn Rate:</span>
              <span id="burn-rate" class="font-mono">1.00</span>
            </div>
          </div>
        </div>
        
        <!-- Actions -->
        <div class="glass-panel">
          <h3 class="text-xl font-bold mb-3">Actions</h3>
          <div class="space-y-2">
            <button id="hire-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              üë• Hire <span class="kbd ml-2">H</span>
            </button>
            <button id="cut-costs-btn" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              ‚úÇÔ∏è Cut Costs <span class="kbd ml-2">C</span>
            </button>
            <button id="seek-funding-btn" class="w-full bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              üí∞ Seek Funding <span class="kbd ml-2">F</span>
            </button>
            <button id="launch-btn" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              üöÄ Launch <span class="kbd ml-2">L</span>
            </button>
            <button id="pivot-btn" class="w-full bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              üîÑ Pivot <span class="kbd ml-2">P</span>
            </button>
          </div>
          
          <p class="text-xs text-gray-500 mt-3">
            üí° Each action modifies transition probabilities and has a cooldown
          </p>
        </div>
        
        <!-- Stats -->
        <div class="glass-panel">
          <h3 class="text-xl font-bold mb-3">Statistics</h3>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-400">Total Ticks:</span>
              <span id="total-ticks" class="font-mono">0</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-400">States Visited:</span>
              <span id="states-visited" class="font-mono">1</span>
            </div>
          </div>
        </div>
        
        <!-- Export Options -->
        <div class="glass-panel">
          <h3 class="text-xl font-bold mb-3">Export</h3>
          <div class="space-y-2">
            <button id="export-json-btn" class="w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              üìÑ Export JSON
            </button>
            <button id="export-png-btn" class="w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              üñºÔ∏è Export PNG
            </button>
            <button id="auto-sim-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg action-btn text-sm">
              üî¨ Auto-Simulate
            </button>
          </div>
        </div>
        
        <!-- Keyboard Shortcuts -->
        <div class="glass-panel text-xs">
          <h4 class="font-semibold mb-2">Keyboard Shortcuts</h4>
          <div class="space-y-1 text-gray-400">
            <div><span class="kbd">Space</span> Play/Pause</div>
            <div><span class="kbd">‚Üí</span> Step Forward</div>
            <div><span class="kbd">H/C/F/L/P</span> Actions</div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Auto-Simulate Modal -->
  <div id="auto-sim-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
    <div class="glass-panel max-w-md w-full">
      <h2 class="text-2xl font-bold mb-4">Auto-Simulate</h2>
      <p class="text-gray-300 mb-4">Run multiple simulations automatically and export the results for analysis.</p>
      
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-2">Number of Runs</label>
          <input 
            type="number" 
            id="num-runs" 
            value="10" 
            min="1" 
            max="1000" 
            class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"
          />
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">Max Ticks per Run</label>
          <input 
            type="number" 
            id="max-ticks" 
            value="50" 
            min="10" 
            max="200" 
            class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"
          />
        </div>
        
        <div class="flex gap-3">
          <button id="run-auto-sim-btn" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg action-btn">
            üöÄ Run
          </button>
          <button id="close-modal-btn" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg action-btn">
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <footer class="text-center mt-12 text-gray-500 text-sm">
    <p>Built with ‚ù§Ô∏è using p5.js, D3.js, and Tailwind CSS</p>
    <p class="mt-2">
      <a href="https://github.com/AUTHOR_HANDLE/startup-lifecycle" class="hover:text-gray-300 underline" target="_blank">View on GitHub</a>
    </p>
  </footer>
  
  <!-- Scripts -->
  <script src="./assets/js/simEngine.js"></script>
  <script src="./assets/js/visualStages.js"></script>
  <script src="./assets/js/ui.js"></script>
  <script src="./assets/js/app.js"></script>
</body>
</html>

